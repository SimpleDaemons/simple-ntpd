# Simple NTP Daemon Development Configuration
# Optimized for development and testing environments

[network]
# Network configuration
listen_address = 127.0.0.1
listen_port = 123
enable_ipv6 = false
max_clients = 100
bind_interface = ""

# Development settings
receive_buffer_size = 1048576
send_buffer_size = 1048576
max_connections_per_second = 100

[ntp_server]
# Server configuration
stratum = 3
reference_clock = "LOCAL"
reference_id = "DEV"

# Upstream servers (minimal for development)
upstream_servers = [
    "pool.ntp.org",
    "time.nist.gov"
]

# Synchronization settings
sync_interval = 300
max_drift = 1000
min_poll = 6
max_poll = 10

# Authentication (disabled for development)
enable_authentication = false
auth_key_file = ""

[logging]
# Logging configuration
level = "DEBUG"
output = "console"
log_file = "/tmp/simple-ntpd-dev.log"
max_file_size = "10MB"
max_files = 3
log_format = "text"
enable_syslog = false
syslog_facility = "daemon"

# Development logging
log_performance_metrics = true
log_client_queries = true
log_sync_events = true
log_debug_info = true

[security]
# Security settings (relaxed for development)
enable_authentication = false
allow_query_from = ["0.0.0.0/0"]
deny_query_from = []
enable_rate_limiting = false
max_queries_per_minute = 10000
enable_dns_validation = false

# Access control
trusted_networks = [
    "127.0.0.0/8",
    "10.0.0.0/8",
    "172.16.0.0/12",
    "192.168.0.0/16"
]

[performance]
# Performance settings (development focused)
worker_threads = 2
max_packet_size = 1024
connection_timeout = 60
idle_timeout = 600
enable_connection_pooling = false
max_pool_size = 100

# Memory management
max_memory_usage = "128MB"
enable_memory_pooling = false
garbage_collection_interval = 600

[monitoring]
# Monitoring and metrics
enable_metrics = true
metrics_port = 8080
metrics_address = "127.0.0.1"
enable_health_check = true
health_check_interval = 60

# Development tools
enable_debug_endpoints = true
debug_port = 8081
debug_address = "127.0.0.1"

[maintenance]
# Maintenance settings
log_rotation_time = "daily"
max_log_age = "7d"
cleanup_interval = 7200
backup_config_on_change = false
config_backup_dir = "/tmp/simple-ntpd-backup"

# Statistics
enable_statistics = true
stats_retention_days = 7
stats_export_format = "json"

[development]
# Development-specific settings
enable_hot_reload = true
config_watch_interval = 5
enable_mock_mode = false
mock_time_offset = 0
enable_test_endpoints = true
